<% content_for(:title, "Products Categories - REC PARTS") %>

<div class="container py-5">
  <div class="row">
    <div class="col-12">
      <h1 class="display-6 fw-bold text-dark mb-5">Products categories</h1>
    </div>
  </div>

  <div class="categories-flex-container">
    <% @categories.each do |category| %>
      <div class="category-flex-item">
        <%= link_to category_path(name: category.name), class: "text-decoration-none" do %>
          <div class="card h-100 shadow-sm border-0 category-card">
            <div class="card-body text-center p-4">
              <!-- Category Image -->
              <div class="category-image-container mb-3">
                <div class="category-image-wrapper">
                  <% if category.identifier.present? %>
                    <%= image_tag category.home_image_path, 
                        alt: category.name,
                        class: "category-image img-fluid",
                        onerror: "this.style.display='none'; this.nextElementSibling.style.display='flex';" %>
                    <div class="category-image-fallback bg-light d-flex align-items-center justify-content-center" style="display: none;">
                      <i class="fas fa-image fa-3x text-muted"></i>
                    </div>
                  <% else %>
                    <div class="category-image-placeholder bg-light d-flex align-items-center justify-content-center">
                      <i class="fas fa-cog fa-3x text-muted"></i>
                    </div>
                  <% end %>
                </div>
              </div>

              <!-- Category Name -->
              <div class="category-name-container">
                <h5 class="card-title text-uppercase text-dark mb-0">
                  <%= category.name %>
                  <i class="fas fa-arrow-right text-dark ms-2"></i>
                </h5>
              </div>
            </div>

            <!-- Red bottom border -->
            <div class="category-border"></div>
          </div>
        <% end %>
      </div>
    <% end %>
  </div>
</div>
